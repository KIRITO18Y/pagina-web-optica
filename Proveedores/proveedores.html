<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
   <script type="text/javascript" src="./../scripts/main.js"></script>
    <title>Proveedores</title>
</head>
<body>
    <!-- HEADER -->
    <div id="header" class="flex items-center justify-between p-4 border-b">
    </div>
    <!-- MENU -->
    <div class="flex">
        <div id="menu" class="w-1/6 bg-white h-screen p-4"></div>
        <!-- MENU -->
        <div class="w-5/6 p-4">
            <div class="flex space-x-4 mb-4">
                <button id="nuevoProveedor"
                    class=" bg-blue-500 hover:bg-blue-700 text-white px-4 py-2 rounded font-bold">+Nuevo Proveedor
                </button>
            </div>
            <!-- TABLA DE PROVEEDOR -->
            <div class="bg-gray-300 p-4 mb-1 rounded-lg border border-grey-500 mb-4  ">
                <div class="mb-2">
                    <div class="relative">
                        <div class="inline-flex">
                            <input type="text" placeholder="Buscar Proveedor" class="p-2 pl-10 border-blue-400 rounded">
                            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                            <button
                                class="font-bold border p-2 bg-blue-500 hover:bg-blue-700 px-4 py-2 rounded text-white ">Buscar</button>
                        </div>
                    </div>

                </div>
                <table id="tablaProveedores" class="min-w-full bg-white border border-gray-300">
                    <thead>
                        <tr>
                            <th class="border border-gray-300 p-2">Proveedores </th>
                            <th class="border border-gray-300 p-2">Nit</th>
                            <th class="border border-gray-300 p-2">Celular</th>
                            <th class="border border-gray-300 p-2">Dirección</th>
                            <th class="border border-gray-300 p-2">Email</th>
                            <th class="border border-gray-300 p-2">Opciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border border-gray-300 p-2 text-center">OPTICOL</td>
                            <td class="border border-gray-300 p-2 text-center">2480293473</td>
                            <td class="border border-gray-300 p-2 text-center">3227133105 <br> </td>
                            <td class="border border-gray-300 p-2 text-center">KR 11# 79 - 35 PI 9</td>
                            <td class="border border-gray-300 p-2 text-center">opticolyopmail.com</td>
                            <td class="border border-gray-300 p-2 text-center">
                                <button class="text-blue-500 mr-10">
                                    <i class="fas fa-play"></i>
                                </button>
                                <button id="eliminarusuario" class="text-red-500">
                                    <i class="fas fa-minus-circle ml-2"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                        <tr>
                            <td class="border border-gray-300 p-2 text-center">OPTICAS COLOMBIA</td>
                            <td class="border border-gray-300 p-2 text-center">480293473</td>
                            <td class="border border-gray-300 p-2 text-center">2480293473</td>
                            <td class="border border-gray-300 p-2 text-center">Medellin</td>
                            <td class="border border-gray-300 p-2 text-center">opticolombia@yopmail.com</td>
                            <td class="border border-gray-300 p-2 text-center"> 
                                <button class="text-blue-500 mr-10">
                                    <i class="fas fa-play"></i>
                                </button>
                                <button id="eliminarusuario" class="text-red-500">
                                    <i class="fas fa-minus-circle ml-2"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                    <tbody id="listaProveedores"></tbody>
                </table>
                <div class="mt-4 flex justify-center">
                    <nav class="inline-flex rounded-md shadow">
                        <a href="#" class="px-4 py-2 bg-white hover:bg-blue-500  border border-gray-300">1</a>
                        <a href="#" class="px-4 py-2 bg-white hover:bg-blue-500  border border-gray-300">2</a>
                        <a href="#" class="px-4 py-2 bg-white hover:bg-blue-500 border border-gray-300">3</a>
                    </nav>
                </div>

            </div>
        </div>

        <!-- VENTANA DE PROVEEDORES -->
        <div id="ventanProveedores"
            class="fixed inset-y-3 h-screen right-0 transform translate-x-full transition-transform duration-300 bg-gray-800 text-black-500">
            <div class="flex justify-center h-screen bg-gray-50 border-2 border-grey-200 ">
                <div class="bg-white p-6 rounded-lg shadow-lg w-96">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl text-black-600">OPTICA</h2>
                        <i id="cerrarVentana" class="fas fa-times cursor-pointer text-red-500"></i>
                    </div>
                    <form id="formProveedor">
                        <div class="mb-4">
                            <label  class="block text-gray-700" for="proveedor">Nombres</label>
                            <input type="text" placeholder="Nombres" id="proveedor" required
                                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">NIT</label>
                            <input type="text" placeholder="NIT" id="nit" required
                                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Celular</label>
                            <input type="text" placeholder="Celular" id="celular" required
                                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Teléfono</label>
                            <input type="text" placeholder="Teléfono" id="telefono" required
                                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Dirección</label>
                            <input type="text" placeholder="Dirección" id="direccion" required
                                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Email</label>
                            <input type="email" placeholder="Email" id="email" required
                                class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <button type="submit"
                                class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 p-2 rounded">Guardar
                                Cambios</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
                                     <!-- VENTANA DE PERFIL  -->
        <div id="ventaPerfil" class="fixed inset-y-3 right-5 text-black-500 p-7 bg-opacity-50 hidden">
            <div class="max-w-sm mx-auto mt-10 bg-gray-800 rounded-lg overflow-hidden shadow-lg">
                <div class="p-4">
                    <div class="flex justify-between items-center">
                        
                        <button class="absolute right-9">
                            <i class="fas fa-pen text-white"></i>
                        </button>
                    </div>
                    <div class="flex justify-center mt-4">
                        <img alt="Profile picture of a person with a blue background and lightning"
                            class="w-20 h-20 rounded-full" height="80"
                            src="https://storage.googleapis.com/a1aa/image/bGURaUfrn3TSKiJ5qyKDDXQ2de2vSaXLDfj3MIOzUniZxEHnA.jpg"
                            width="80" />
                    </div>
                </div>
                <div class="p-4 text-center">
                    <h3 class="text-white font-semibold">
                        JAMES ZUÑIGA
                    </h3>
                    <p class="text-white">jameszuniga348@gmail.com</p>
                </div>
                <div class="p-1">
                    
                    <div class="flex items-center space-x-2 mt-2">
                        <i class="fas fa-sign-out-alt text-gray-400"></i>
                        <button class="text-gray-400 hover:bg-gray-700"> Salir</button>
                    </div>
                </div>
                <div class="bg-gray-800 p-2">
                    <div class="flex items-center space-x-2 mt-2">
                        <i class="fas fa-plus text-gray-400"></i>
                        <button class="text-gray-400 hover:bg-gray-700"> Agregar</button>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    <!-- VENTANA DE NUEVO PROVEEDORES -->
    <script>
        const nuevoProveedor = document.getElementById('nuevoProveedor');
        const ventanProveedoresr = document.getElementById('ventanProveedores');
        const cerrarVentana = document.getElementById("cerrarVentana");
        nuevoProveedor.addEventListener('click', () => {
            ventanProveedores.classList.toggle('translate-x-full');
        });

        cerrarVentana.addEventListener('click', () => {
            ventanProveedores.classList.toggle('translate-x-full');
        });


        // Carga de la barra lateral
        document.addEventListener("DOMContentLoaded", function () {
            loadHTML('./../Layout/menu.html','#menu');
            loadHTML('./../Layout/header.html','#header');
        }); 

        // Guardar datos del proveedor
        document.getElementById('formProveedor').addEventListener('submit', function(event) {
    event.preventDefault(); // Evita que el formulario se envíe de forma tradicional

    
    const proveedor = document.getElementById('proveedor').value;
    const nit = document.getElementById('nit').value;
    const celular = document.getElementById('celular').value;
    const telefono = document.getElementById('telefono').value;
    const direccion = document.getElementById('direccion').value;
    const email = document.getElementById('email').value;

    // Crear un objeto con la información del proveedor
    const nuevoProveedor = {
        proveedor: proveedor,
        nit: nit,
        celular: celular,
        direccion: direccion,
        email: email
    };

    // Obtener la lista de proveedores existentes
    let proveedores = JSON.parse(localStorage.getItem('proveedores')) || [];

    // Agregar el nuevo proveedor a la lista
    proveedores.push(nuevoProveedor);

    // Guardar la lista actualizada en localStorage
    localStorage.setItem('proveedores', JSON.stringify(proveedores));

    // Limpiar el formulario
    document.getElementById('formProveedor').reset();

    // Mostrar la lista actualizada de proveedores
    mostrarProveedores();
});

// Función para mostrar los proveedores guardados en la tabla
function mostrarProveedores() {
    const listaProveedores = document.getElementById('listaProveedores');
    listaProveedores.innerHTML = ''; // Limpiar la lista existente

    // Obtener la lista de proveedores del localStorage
    const proveedores = JSON.parse(localStorage.getItem('proveedores')) || [];

    // Mostrar cada proveedor en la tabla
    proveedores.forEach((proveedor, index) => {
        listaProveedores.innerHTML += `
            <tr>
                <td class="border border-gray-300 p-2 text-center">${proveedor.proveedor}</td>
                <td class="border border-gray-300 p-2 text-center">${proveedor.nit}</td>
                <td class="border border-gray-300 p-2 text-center">${proveedor.celular}</td>
                <td class="border border-gray-300 p-2 text-center">${proveedor.direccion}</td>
                <td class="border border-gray-300 p-2 text-center">${proveedor.email}</td>
                  <td class="border border-gray-300 p-2 text-center"> 
                  <button class="text-blue-500 mr-10">
                    <i class="fas fa-play"></i>
                      </button>
                  <button class="text-red-500">
                  <i class="fas fa-minus-circle ml-2"></i>
                  </button>
                </td>
            </tr>
        `;
    });
}

// Función para eliminar un proveedor
0

// Mostrar proveedores al cargar la página
mostrarProveedores();
    </script>
</body>
</html>